<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wealth Legacy Monitor</title>
    <style>
        body{font-family:Arial,sans-serif;margin:0;padding:20px;background:#f4f4f4}
        header{text-align:center;padding:20px;background:#007bff;color:#fff}
        section{margin:20px 0;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,.1)}
        h2{color:#333}
        ul{list-style:none;padding:0}
        li{margin-bottom:15px;border-bottom:1px solid #eee;padding-bottom:10px}
        a{color:#007bff;text-decoration:none}
        a:hover{text-decoration:underline}
        .article-title{font-weight:bold}
        .article-desc{color:#666}
        .warning{color:#d9534f;font-size:.9em}
    </style>
</head>
<body>
    <header><h1>Wealth Legacy Monitor</h1><p>Stay updated on estate planning and building generational wealth</p></header>

    <section id="estate-planning"><h2>Latest News on Estate Planning</h2><ul id="estate-list"><li>Loading…</li></ul></section>
    <section id="generational-wealth"><h2>News on Generational Wealth Transfer</h2><ul id="wealth-list"><li>Loading…</li></ul></section>

    <section id="tips">
        <h2>How to Get Rich Through Generational Wealth Transfer</h2>
        <ul>
            <li><strong>Start Early with Investments:</strong> Stocks, real estate, bonds.</li>
            <li><strong>Create an Estate Plan:</strong> Wills, trusts, life insurance.</li>
            <li><strong>Educate Your Family:</strong> Financial literacy for heirs.</li>
            <li><strong>Minimize Taxes:</strong> Gifting, Roth conversions, charity.</li>
            <li><strong>Build Multiple Income Streams:</strong> Businesses, passive income.</li>
            <li><strong>Seek Professional Advice:</strong> Advisors, lawyers, accountants.</li>
        </ul>
        <p class="warning">General info only — consult professionals.</p>
    </section>

    <script>
        const API_KEY = '9472bbb5b26e470ba511ef20024e2832';
        const allowed = ['localhost', '.github.io'];
        if (!allowed.some(h => location.hostname.includes(h))) {
            document.getElementById('estate-list').innerHTML = '<li class="warning">News blocked – API key protected.</li>';
            document.getElementById('wealth-list').innerHTML = '<li class="warning">News blocked – API key protected.</li>';
        } else {
            async function fetchNews(q, id) {
                const url = `https://newsapi.org/v2/everything?q=${q}&apiKey=${API_KEY}&sortBy=publishedAt&pageSize=10`;
                try {
                    const r = await fetch(url);
                    const d = await r.json();
                    display(d.articles || [], id);
                } catch { document.getElementById(id).innerHTML = '<li class="warning">Failed to load news.</li>'; }
            }
            function display(articles, id) {
                const ul = document.getElementById(id); ul.innerHTML = '';
                articles.forEach(a => {
                    const li = document.createElement('li');
                    li.innerHTML = `<div class="article-title"><a href="${a.url}" target="_blank">${a.title}</a></div>
                                   <div class="article-desc">${a.description||'No description.'}</div>`;
                    ul.appendChild(li);
                });
            }
            fetchNews('estate planning', 'estate-list');
            fetchNews('generational wealth transfer OR how to build generational wealth', 'wealth-list');
        }
    </script>
</body>
</html>
